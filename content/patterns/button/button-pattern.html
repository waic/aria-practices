<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>ボタン パターン</title>

    <!-- Core JS and CSS shared by all patterns -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../shared/css/core.css">
    <script src="../../shared/js/highlight.pack.js"></script>
    <script src="../../shared/js/app.js"></script>
    <script src="../../shared/js/skipto.js"></script>
  </head>
  <body>
    <main>
      <h1>ボタン パターン</h1>
      <!-- 翻訳元リビジョン: https://github.com/w3c/aria-practices/tree/d6cf9d8db772603a456e7d7ef52e409d39124301 -->

      <section id="about">
        <h2>このパターンについて</h2>
        <p>
          <a class="role-reference" href="#button">ボタン</a>は、フォームの送信、ダイアログのオープン、アクションのキャンセル、削除操作などのアクションやイベントのトリガーを可能にするウィジェットです。
          ボタンがダイアログを起動することをユーザーに知らせるための一般的な慣例は、ボタンラベルに &quot;&#8230;&quot;（省略記号）を付加することです。例： &quot;名前を付けて保存&#8230;&quot;
        </p>
        <p>通常のボタンウィジェットに加えて、WAI-ARIAは2種類のボタンをサポートしています：</p>
        <ul>
          <li>
            トグルボタン：オフ（押されていない状態）とオン（押された状態）の2つのステートを持つボタン。
            ボタンがトグルボタンであることを支援技術に伝えるには、<a href="#aria-pressed" class="state-reference">aria-pressed</a>属性に値を指定します。
            例えば、オーディオプレーヤーのミュートというラベルのボタンは、押されたステートをtrueに設定することで、音がミュートされていることを示すことができます。
            <strong>重要：</strong>トグルボタンのラベルは、そのステートが変化しても変化しないことが重要です。
            この例では、押されたステートがtrueのとき、ラベルは &quot;ミュート&quot; のままなので、スクリーンリーダーは "ミュート トグルボタン 押されています"のように言うでしょう。
            そうではなく、ボタンのラベルが "ミュート" から "ミュート解除" に変わるようなデザインであれば、aria-pressed属性は必要ありません。
          </li>
          <li>メニューボタン：<a href="../menu-button/menu-button-pattern.html">メニューボタン パターン</a>で説明されているように、ボタンは、プロパティ<a href="#aria-haspopup" class="property-reference">aria-haspopup</a>が<code>menu</code>か<code>true</code>に設定されていれば、メニューボタンとして支援技術に公開されます。</li>
        </ul>
        <div class="note">
          <h3>ノート</h3>
          <p>
            ボタンによって実行されるアクションのタイプは、リンクの機能（<a href="../link/link-pattern.html">リンクパターン</a>を参照）とは明確に異なる。
            ウィジェットの外観とロールは、それが提供する機能と一致することが重要です。
            それにもかかわらず、要素がリンクの視覚的なスタイルを持ちながら、ボタンのアクションを実行することがあります。
            このような場合、要素に<code>button</code>のロールを与えることは、支援技術ユーザーが要素の機能を理解するのに役立ちます。
            しかし、より良い解決策は、機能とARIAロールが一致するように視覚デザインを調整することです。
          </p>
        </div>
      </section>

      <section id="examples">
        <h2>例</h2>
        <ul>
          <li><a href="examples/button.html">ボタンの例</a>：クリック可能なHTMLの<code>div</code>と<code>span</code>要素をアクセシブルなコマンドボタンとトグルボタンにした例。</li>
          <li>
            <a href="examples/button_idl.html">ボタンの例（IDL）</a>：クリック可能なHTMLの<code>div</code>と<code>span</code>要素をアクセシブルなコマンドとトグルボタンにした例。
            この例では<a class="specref" href="#idl-interface">IDLインターフェイス</a>を用いています。
          </li>
        </ul>
      </section>

      <section id="keyboard_interaction">
        <h2>キーボード操作</h2>
        <p>ボタンにフォーカスがある場合：</p>
        <ul>
          <li><kbd>Space</kbd>：ボタンをアクティブにします。</li>
          <li><kbd>Enter</kbd>：ボタンをアクティブにします。</li>
          <li>
            ボタンをアクティブにした後、ボタンが実行するアクションのタイプに応じてフォーカスが設定されます。例えば：
            <ul>
              <li>
                ボタンを押すとダイアログが開く場合、フォーカスはダイアログ内に移動します。
                （<a href="../dialog-modal/dialog-modal-pattern.html">ダイアログ パターン</a>を参照）
              </li>
              <li>
                ボタンをクリックするとダイアログが閉じる場合、ダイアログのコンテキストで実行された機能が論理的に別の要素につながらない限り、フォーカスは通常、ダイアログを開いたボタンに戻ります。
                例えば、ダイアログのキャンセルボタンを押すと、フォーカスはダイアログを開いたボタンに戻ります。
                しかし、ダイアログが開かれたページを削除する操作を確認するものであった場合、フォーカスは論理的に新しいコンテキストに移動します。
              </li>
              <li>ボタンをクリックしても現在のコンテキストがなくならない場合、フォーカスは通常、クリック後もボタン上に残ります（例：適用ボタンや再計算ボタン）。</li>
              <li>ボタンのアクションが、ウィザードの次のステップへ移動したり、別の検索条件を追加したりするような、コンテキストの変更を示している場合、そのアクションの開始点にフォーカスを移動させることが適切であることが多いでしょう。</li>
              <li>
                ボタンがショートカットキーで起動された場合、フォーカスは通常、ショートカットキーが起動されたコンテキストに残ります。
                例えば、<kbd>Alt + U</kbd>がリストの現在フォーカスのある項目を1つ上の位置に移動させる &quot;Up&quot; ボタンに割り当てられている場合、フォーカスがリストにあるときに<kbd>Alt + U</kbd>を押しても、フォーカスはリストから移動しません。
              </li>
            </ul>
          </li>
        </ul>
      </section>

      <section id="roles_states_properties">
        <h2>WAI-ARIAのロール、ステート、およびプロパティ</h2>
        <ul>
          <li>ボタンは<a class="role-reference" href="#button">button</a>のロールを持っています。</li>
          <li>
            <code>button</code>はアクセス可能なラベルを持ちます。
            デフォルトでは、アクセシブルな名前はボタン要素内のテキスト内容から計算されます。
            しかし、<a href="#aria-labelledby" class="property-reference">aria-labelledby</a>や<a href="#aria-label" class="property-reference">aria-label</a>で指定することもできます。
          </li>
          <li>ボタンの機能の説明が存在する場合、ボタン要素の<a href="#aria-describedby" class="property-reference">aria-describedby</a>には、説明を含む要素のIDが設定されます。</li>
          <li>ボタンに関連するアクションが利用できない場合、ボタンは<a class="state-reference" href="#aria-disabled">aria-disabled</a>に<code>true</code>が設定されます。</li>
          <li>
            ボタンがトグルボタンの場合、<a href="#aria-pressed" class="state-reference">aria-pressed</a>ステートを持ちます。
            ボタンがオンに切り替えられると、このステートの値は<code>true</code>になり、オフに切り替えられると、このステートは<code>false</code>になります。
          </li>
        </ul>
      </section>
    </main>
  </body>
</html>
