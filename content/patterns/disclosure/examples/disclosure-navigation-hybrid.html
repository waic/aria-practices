<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>トップレベルリンク付きディスクロージャー（表示/非表示）ナビゲーションメニューの例</title>

    <!-- Core JS and CSS shared by all examples -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../../shared/css/core.css">
    <script src="../../../shared/js/examples.js"></script>
    <script src="../../../shared/js/highlight.pack.js"></script>
    <script src="../../../shared/js/app.js"></script>
    <script src="../../../shared/js/skipto.js"></script>

    <!-- JS and CSS for this example -->
    <link href="css/disclosure-navigation.css" rel="stylesheet">
    <script src="js/disclosureMenu.js"></script>
  </head>
  <body>
    <nav aria-label="Related Links" class="feedback">
      <ul>
        <li><a href="https://github.com/w3c/aria-practices/projects/14">関連する Issues</a></li>
        <li><a href="../disclosure-pattern.html">デザインパターン</a></li>
      </ul>
    </nav>
    <main>
      <h1>トップレベルリンク付きディスクロージャー（表示/非表示）ナビゲーションメニューの例</h1>
      <!-- 翻訳元リビジョン: https://github.com/w3c/aria-practices/tree/7f54d9620e32231021aad607b7af7eeee5c24f54 -->

      <section>
        <h2>この例について</h2>
        <div class="advisement">
          <h3>重要</h3>
          <p>
            この例では、ナビゲーションリンクのセットを指すために俗に「メニュー」という言葉を使用していますが、WAI-ARIAのメニューロールは使用していません。
            このサイトナビゲーションの実装は、支援技術がメニューロールのウィジェットに期待する複雑な機能を提供しないため、メニューロールを使用していません。
            典型的なサイトナビゲーションは、<a href="../../menubar/menu-and-menubar-pattern.html#keyboard_interaction">メニューとメニューバーパターンによって指定されたキーボード操作</a>をすべて必要としません。
          </p>
        </div>
        <img alt="" class="example-page-example-icon" src="../../../images/pattern-disclosure.svg">
        <p>
          次の例は、架空の大学のウェブサイトのナビゲーションバーにおいて、リンクのドロップダウンリストを表示および非表示にするために<a href="../disclosure-pattern.html">ディスクロージャーパターン</a>を使用する方法を示しています。
          他の<a href="disclosure-navigation.html">ディスクロージャーナビゲーションメニューの例</a>とは異なり、この例にはディスクロージャーボタンの隣にトップレベルリンクが含まれています。
        </p>
        <p>類似の例には以下が含まれます：</p>
        <ul>
          <li><a href="disclosure-navigation.html">ディスクロージャーナビゲーションメニューの例</a></li>
          <li><a href="disclosure-faq.html">よくある質問への回答の表示/非表示の例</a></li>
          <li><a href="disclosure-image-description.html">画像説明の表示/非表示の例</a></li>
          <li><a href="../../menubar/examples/menubar-navigation.html">ナビゲーションメニューバーの例</a></li>
        </ul>
        <h2>例の使用オプション</h2>
        <p>
          この例では、キーボードサポートを実装する2つの異なる方法を示しています。
          次のチェックボックスでそれらの間を切り替えることができます。
        </p>
        <label for="arrow-behavior-switch">
          <input type="checkbox" id="arrow-behavior-switch" checked>
          矢印キー、<kbd>Home</kbd>、および<kbd>End</kbd>のオプショナルサポートを含む
        </label>
      </section>

      <section>
        <div class="example-header">
          <h2 id="ex_label">例</h2>
        </div>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
        <div id="ex1">
          <header class="sample-header">
            <div class="title" id="id_website_title">架空大学</div>
            <div class="tagline">ナビゲーション用のディスクロージャー + リンクパターンの使用</div>
          </header>
          <nav aria-label="架空大学">
            <ul id="exTest" class="disclosure-nav">
              <li>
                <a href="#mythical-page-content" class="main-link">概要</a>
                <button type="button" aria-expanded="false" aria-controls="id_about_menu" aria-label="概要ページについてもっと"></button>
                <ul id="id_about_menu" style="display: none">
                  <li>
                    <a href="#mythical-page-content">概観</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">管理部門</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">事実</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">キャンパスツアー</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="#mythical-page-content" class="main-link">入学案内</a>
                <button type="button" aria-expanded="false" aria-controls="id_admissions_menu" aria-label="入学案内ページについてもっと"></button>
                <ul id="id_admissions_menu" style="display: none">
                  <li>
                    <a href="#mythical-page-content">申し込み</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">授業料</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">サインアップ</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">訪問</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">写真ツアー</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">連絡先</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="#mythical-page-content" class="main-link">学術情報</a>
                <button type="button" aria-expanded="false" aria-controls="id_academics_menu" aria-label="学術情報ページについてもっと"></button>
                <ul id="id_academics_menu" style="display: none">
                  <li>
                    <a href="#mythical-page-content">学部・学校</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">学習プログラム</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">優秀プログラム</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">オンラインコース</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">コースエクスプローラー</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">クラス登録</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">学術カレンダー</a>
                  </li>
                  <li>
                    <a href="#mythical-page-content">成績証明書</a>
                  </li>
                </ul>
              </li>
            </ul>
          </nav>
          <div id="mythical-page-content" class="disclosure-page-content" tabindex="-1" role="region" aria-labelledby="mythical-page-heading">
            <h3 id="mythical-page-heading">ホーム</h3>
            <p>
              サンプルコンテンツセクション。
              上記のリンクをアクティベートすると、この領域が更新され、ナビゲートされます。
            </p>
          </div>
          <footer class="sample-footer">架空大学のフッター情報</footer>
        </div>
        <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
      </section>

      <section>
        <h2>アクセシビリティ機能</h2>
        <ol>
          <li>このリンクとディスクロージャーボタンのセットは架空大学ウェブサイトのナビゲーションを提供するために、それらを含むリストは<q>架空大学</q>と名付けられたナビゲーションランドマーク内にラップされています。</li>
          <li>
            リストの構造のセマンティクスは、ナビゲーションシステムの階層を支援技術の利用者に伝えます。
            トップレベルのリンクとそれに関連するディスクロージャーボタンを含むトップレベルアイテムが3つあるリストです。
            ディスクロージャーボタンによって制御されるリンクのセットは、そのボタンを含むリストアイテム内にネストされたリストにあります。
          </li>
          <li>
            ドロップダウンが開いていて、ナビゲーション領域内にフォーカスがある場合、<kbd>Esc</kbd>を押すとドロップダウンが閉じます。
            ナビゲーション領域外にフォーカスを移動すると、開いているドロップダウンも閉じます。
          </li>
          <li>
            オプショナルなナビゲーションキー（矢印キー、<kbd>Home</kbd>、および<kbd>End</kbd>）：
            <ol>
              <li>オプショナルな矢印キーサポートを有効にすると、ナビゲーション領域内にフォーカスがある場合にデフォルトのページスクロール動作を防ぎます。</li>
              <li>
                オプショナルなナビゲーションキーサポートは、主にスクリーンリーダーを実行していないキーボード利用者の利益のためのものです。
                読み取りおよびインタラクションモードの両方を持つスクリーンリーダーは、これらのナビゲーションキーをインターセプトし、スクリーンリーダーが読み取りモードにある場合、これらのキーをページに渡しません。
                この例と対話する際、そのようなスクリーンリーダーは通常、この例がスクリーンリーダーのインタラクションモードをトリガーするウィジェットロールを使用していないため、読み取りモードにあります。
              </li>
              <li>
                実装されている場合、オプショナルなナビゲーションキーは、ボタンとリンク間のタビングを補完しますが、置き換えません。
                これは、ボタンとリンクが<code>grid</code>のようなウィジェットロールで囲まれておらず、そのロールがページ<kbd>Tab</kbd>シーケンスの中で1つの停止点を占め、そのすべての子孫のフォーカスを管理することが期待されていないためです。
              </li>
            </ol>
          </li>
        </ol>
      </section>

      <section>
        <h2>キーボードサポート</h2>
        <table aria-labelledby="kbd_label" class="def">
          <thead>
            <tr>
              <th>キー</th>
              <th>機能</th>
            </tr>
          </thead>
          <tbody>
            <tr data-test-id="key-tab">
              <th>
                <kbd>Tab</kbd><br>
                <kbd>Shift + Tab</kbd>
              </th>
              <td>トップレベルのリンクとボタン、およびドロップダウンが開いている場合はドロップダウン内のリンクを通じてキーボードフォーカスを移動します。</td>
            </tr>
            <tr data-test-id="key-enter-space">
              <th>
                <kbd>Space</kbd> or <br>
                <kbd>Enter</kbd>
              </th>
              <td>
                <ul>
                  <li>フォーカスがディスクロージャーボタンにある場合、ボタンをアクティブにしてドロップダウンの可視性を切り替えます。</li>
                  <li>
                    フォーカスがリンクにある場合：
                    <ul>
                      <li>いずれかのリンクに<code>aria-current</code>が設定されている場合、それを削除します。</li>
                      <li>フォーカスされたリンクに<code>aria-current="page"</code>を設定します。</li>
                      <li>フォーカスされたリンクをアクティブにします。</li>
                    </ul>
                  </li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-escape">
              <th>
                <kbd>Escape</kbd>
              </th>
              <td>ドロップダウンが開いている場合、それを閉じてそのドロップダウンを制御するボタンにフォーカスを設定します。</td>
            </tr>
            <tr data-test-id="key-arrows">
              <th>
                <kbd>Down Arrow</kbd> or <br>
                <kbd>Right Arrow</kbd><br>
                (オプション)
              </th>
              <td>
                <ul>
                  <li>フォーカスがトップレベルのリンクまたは折りたたまれたドロップダウンのボタンにあり、最後のトップレベルアイテムではない場合、次のトップレベルのリンクまたはボタンにフォーカスを移動します。</li>
                  <li>フォーカスがトップレベルのボタンにあり、そのドロップダウンが展開されている場合、ドロップダウン内の最初のリンクにフォーカスを移動します。</li>
                  <li>フォーカスが展開されたドロップダウン内のリンクにあり、最後のリンクではない場合、次のリンクにフォーカスを移動します。</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-arrows">
              <th>
                <kbd>Up Arrow</kbd> or <br>
                <kbd>Left Arrow</kbd><br>
                (オプション)
              </th>
              <td>
                <ul>
                  <li>フォーカスがトップレベルのリンクまたはボタンにあり、最初のアイテムではない場合、前のリンクまたはボタンにフォーカスを移動します。</li>
                  <li>フォーカスが展開されたドロップダウン内のリンクにあり、最初のリンクではない場合、前のリンクにフォーカスを移動します。</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-home-end">
              <th><kbd>Home</kbd> (オプション)</th>
              <td>
                <ul>
                  <li>フォーカスがトップレベルのリンクボタンにあり、最初のアイテムではない場合、最初のアイテムにフォーカスを移動します。</li>
                  <li>フォーカスが展開されたドロップダウン内のリンクにあり、最初のリンクではない場合、最初のリンクにフォーカスを移動します。</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="key-home-end">
              <th><kbd>End</kbd> (オプション)</th>
              <td>
                <ul>
                  <li>フォーカスがトップレベルのリンクまたはボタンにあり、最後のアイテムではない場合、最後のアイテムにフォーカスを移動します。</li>
                  <li>フォーカスが展開されたドロップダウン内のリンクにあり、最後のリンクではない場合、最後のリンクにフォーカスを移動します。</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2 id="rps_label">ロール、プロパティ、ステート、およびTabindex属性</h2>
        <table aria-labelledby="rps_label" class="data attributes">
          <thead>
            <tr>
              <th scope="col">ロール</th>
              <th scope="col">属性</th>
              <th scope="col">要素</th>
              <th scope="col">使用法</th>
            </tr>
          </thead>
          <tbody>
            <tr data-test-id="button-aria-controls">
              <td></td>
              <th scope="row">
                <code>aria-controls="IDREF"</code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>IDREF値で識別されるコンテナの可視性をディスクロージャーボタンが制御していることを示します。</td>
            </tr>
            <tr data-test-id="button-aria-expanded">
              <td></td>
              <th scope="row">
                <code>aria-expanded="false"</code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>ディスクロージャーボタンによって制御されるコンテナが<em>非表示</em>であることを示します。</li>
                  <li>
                    CSS属性セレクタ（例：<code>[aria-expanded="false"]</code>）を使用して、<code>aria-expanded</code>属性の値と視覚的な状態を同期させます。
                  </li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="button-aria-expanded">
              <td></td>
              <th scope="row">
                <code>aria-expanded="true"</code>
              </th>
              <td>
                <code>button</code>
              </td>
              <td>
                <ul>
                  <li>ディスクロージャーボタンによって制御されるコンテナが<em>表示</em>されていることを示します。</li>
                  <li>
                    CSS属性セレクタ（例：<code>[aria-expanded="true"]</code>）を使用して、<code>aria-expanded</code>属性の値と視覚的な状態を同期させます。
                  </li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="link-aria-current">
              <td></td>
              <th scope="row">
                <code>aria-current="page"</code>
              </th>
              <td>
                <code>a</code>
              </td>
              <td>リンクによって参照されるページが現在表示されていることを示します。</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2>JavaScriptおよびCSSのソースコード</h2>
        <!--  After the js and css files are named with the name of this example, change the href and text of the following 2 links to refer to the appropriate js and css files.  -->
        <ul id="css_js_files">
          <li>
            CSS：
            <a href="css/disclosure-navigation.css" type="tex/css">disclosure-navigation.css</a>
          </li>
          <li>
            Javascript：
            <a href="js/disclosureMenu.js" type="text/javascript">disclosureMenu.js</a>
          </li>
        </ul>
      </section>

      <section>
        <h2 id="sc1_label">HTMLソースコード</h2>
        <div role="separator" id="sc1_start_sep" aria-labelledby="sc1_start_sep sc1_label" aria-label="Start of"></div>
        <pre><code id="sc1"></code></pre>
        <div role="separator" id="sc1_end_sep" aria-labelledby="sc1_end_sep sc1_label" aria-label="End of"></div>
        <script>
          sourceCode.add('sc1', 'ex1', 'ex_label', 'css_js_files');
          sourceCode.make();
        </script>
      </section>
    </main>
  </body>
</html>
