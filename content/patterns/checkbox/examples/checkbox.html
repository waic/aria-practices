<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>チェックボックスの例 (二つの状態)</title>

    <!-- Core JS and CSS shared by all examples -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../../shared/css/core.css">
    <script src="../../../shared/js/examples.js"></script>
    <script src="../../../shared/js/highlight.pack.js"></script>
    <script src="../../../shared/js/app.js"></script>
    <script src="../../../shared/js/skipto.js"></script>

    <!-- JS and CSS for this example -->
    <link href="css/checkbox.css" rel="stylesheet">
    <script src="js/checkbox.js"></script>
  </head>
  <body>
    <nav aria-label="関連リンク" class="feedback">
      <ul>
        <li><a href="https://github.com/w3c/aria-practices/projects/9">関連する課題</a></li>
        <li><a href="../checkbox-pattern.html">デザインパターン</a></li>
      </ul>
    </nav>
    <main>
      <h1>チェックボックスの例 (二つの状態)</h1>
      <!-- 翻訳元リビジョン: https://github.com/w3c/aria-practices/tree/d6cf9d8db772603a456e7d7ef52e409d39124301 -->

      <section>
        <h2>この例について</h2>
        <p>この例は、<code>div</code> 要素を使用して二つの状態のチェックボックスの <a href="../checkbox-pattern.html">チェックボックス パターン</a> を実装しています。</p>

        <p>類似の例として以下があります：</p>
        <ul>
          <li><a href="checkbox-mixed.html">チェックボックス（三つの状態）</a> ： HTML <code>fieldset</code> 内に含まれる二つの状態の HTML チェックボックスのグループ内のチェック状態を反映し制御するために、 aria-checked の混合値を使用するチェックボックスのデモンストレーションです。</li>
        </ul>
      </section>

      <section>
        <div class="example-header">
          <h2 id="ex_label">例</h2>
        </div>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_label ex_start_sep" aria-label="の開始"></div>

        <div id="ex1">
          <h3 id="id-group-label">サンドイッチの具材</h3>
          <div role="group" aria-labelledby="id-group-label">
            <ul class="checkboxes">
              <li><div role="checkbox" aria-checked="false" tabindex="0">レタス</div></li>
              <li><div role="checkbox" aria-checked="true" tabindex="0">トマト</div></li>
              <li><div role="checkbox" aria-checked="false" tabindex="0">マスタード</div></li>
              <li><div role="checkbox" aria-checked="false" tabindex="0">もやし</div></li>
            </ul>
          </div>
        </div>

        <div role="separator" id="ex_end_sep" aria-labelledby="ex_label ex_end_sep" aria-label="の終了"></div>
      </section>

      <section>
        <h2>アクセシビリティの特徴</h2>
        <ul>
          <li>各チェックボックスが<q>サンドイッチの具材</q>という名前の関連するチェックボックスのセットの一部であることを支援技術のユーザーに理解させるために、チェックボックスは <code>h3</code> 見出し要素でラベル付けされた <code>group</code> で括られています。</li>
          <li>支援技術のユーザーがチェックボックスのセットを4つのアイテムのリストとして認識するのを容易にするために、チェックボックスとして機能する各 <code>div</code> 要素は、 <code>ul</code> 要素に含まれる <code>li</code> 要素内にあります。</li>
          <li>ラベルまたはチェックボックスのいずれかをクリックするとチェックボックスが作動することを容易に認識させるために、ポインタがチェックボックスまたはラベルの上にホバーすると、背景色が変わり、境界線が表示され、カーソルがポインタに変わります。</li>
          <li>
            透明な境界線は、オペレーティングシステムの高コントラスト設定が有効になっている場合に一部のシステムで表示されるため、透明性を使用してフォーカスがある要素と他の要素との視覚的な違いを作ることはできません。
            透明性の代わりに、フォーカスがある要素は境界線が太く、余白が少なくなります。
            要素がフォーカスを受け取ると、その境界線は 0 から 2ピクセル に変わり、余白は 2ピクセル 減少します。
            要素がフォーカスを失うと、その境界線は 2ピクセル から 0 に変わり、余白は 2ピクセル 増加します。
          </li>
          <li>
            高コントラスト設定が色を反転させるときに、CSS のインライン SVG チェックボックスグラフィックスの境界線が背景と十分なコントラストを持つようにするために、境界線の色はテキストコンテンツの色と同期させられます。
            例えば、チェックボックスを描画するために使用される <code>rect</code> 及び <code>polyline</code> 要素の <code>stroke</code> プロパティの値として CSS の <code>currentcolor</code> 値を指定することで、チェックボックスの境界線の色は、高コントラストモードのテキストの前景色と一致するように設定されます。
            チェックボックスのグラフィックの背景を高コントラストの背景色と一致させるために、 <code>rect</code> 要素の <code>fill-opacity</code> 属性は 0 に設定されます。
            <code>stroke</code> 及び <code>fill</code> プロパティに特定の色を使用して指定する場合、その色は高コントラストモードで同じままとなり、チェックボックスと背景との間に十分なコントラストがないか、色が高コントラストモードの背景と一致する場合、チェックボックスが見えなくなる可能性があります。<br>
            注：SVG要素は、<code>currentcolor</code> の値が高コントラストモードで更新されるように、CSSの <code>forced-color-adjust</code> プロパティを <code>auto</code> に設定する必要があります。
            一部のブラウザはデフォルト値として <code>auto</code> を使用しません。
          </li>
        </ul>
      </section>

      <section>
        <h2 id="kbd_label">キーボードサポート</h2>
        <table aria-labelledby="kbd_label" class="def">
          <thead>
            <tr>
              <th>キー</th>
              <th>機能</th>
            </tr>
          </thead>
          <tbody>
            <tr data-test-id="key-tab">
              <th><kbd>Tab</kbd></th>
              <td><code>checkbox</code>へのキーボードフォーカスを移動します。</td>
            </tr>
            <tr data-test-id="key-space">
              <th><kbd>Space</kbd></th>
              <td>チェックボックスをチェック済みとチェック無しの状態との間で切り替えます。</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2 id="rps_label">ロール、プロパティ、ステート、及び tabindex 属性</h2>
        <table aria-labelledby="rps_label" class="data attributes">
          <thead>
            <tr>
              <th scope="col">ロール</th>
              <th scope="col">属性</th>
              <th scope="col">要素</th>
              <th scope="col">使用法</th>
            </tr>
          </thead>
          <tbody>
            <tr data-test-id="h3">
              <td></td>
              <td></td>
              <td><code>h3</code></td>
              <td>
                <ul>
                  <li>チェックボックスのグループのグループからベルを提供します。</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="group-role">
              <th scope="row"><code>group</code></th>
              <td></td>
              <td><code>div</code></td>
              <td>
                <ul>
                  <li>チェックボックスの <code>group</code> コンテナとして <code>div</code> 要素を識別します。</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="group-aria-labelledby">
              <td></td>
              <th scope="row"><code>aria-labelledby</code></th>
              <td><code>div</code></td>
              <td>チェックボックスのグループのアクセシブルな名前を定義するために、 <code>h3</code> 要素の <code>id</code> 属性を参照します。</td>
            </tr>
            <tr data-test-id="checkbox-role">
              <th scope="row"><code>checkbox</code></th>
              <td></td>
              <td><code>div</code></td>
              <td>
                <ul>
                  <li><code>div</code> 要素を <code>checkbox</code> として識別します。</li>
                  <li>この <code>div</code> の子テキストコンテンツは、チェックボックスのアクセシブルな名前を提供します。</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="checkbox-tabindex">
              <td></td>
              <th scope="row"><code>tabindex="0"</code></th>
              <td><code>div</code></td>
              <td>ページのタブ順序にチェックボックスを含めます。</td>
            </tr>
            <tr data-test-id="checkbox-aria-checked">
              <td></td>
              <th scope="row"><code>aria-checked="false"</code></th>
              <td><code>div</code></td>
              <td>
                <ul>
                  <li><code>checkbox</code> が<strong>チェックされていない</strong>ことを示します。</li>
                  <li>CSS属性セレクタ（例： <code>[aria-checked="false"]</code> ）は、<code>aria-checked</code> 属性の値と視覚的な状態を同期させるために使用されます。</li>
                  <li>オペレーティングシステムとブラウザの高コントラスト設定をサポートするために、CSSの <code>::before</code> 疑似要素と <code>content</code> プロパティが、チェックボックスの状態の視覚的なインジケータを生成するために使用されます。</li>
                </ul>
              </td>
            </tr>
            <tr data-test-id="checkbox-aria-checked">
              <td></td>
              <th scope="row"><code>aria-checked="true"</code></th>
              <td><code>div</code></td>
              <td>
                <ul>
                  <li><code>checkbox</code>がチェックされていることを示します。</li>
                  <li>CSS属性セレクタ（例： <code>[aria-checked="true"]</code> ）は、 <code>aria-checked</code> 属性の値と視覚的な状態を同期させるために使用されます。</li>
                  <li>オペレーティングシステムとブラウザの高コントラスト設定をサポートするために、CSSの <code>::before</code> 疑似要素と <code>content</code> プロパティが、チェックボックスの状態の視覚的なインジケータを生成するために使用されます。</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2>JavaScript 及び CSS のソースコード</h2>
        <ul id="css_js_files">
          <li>CSS: <a href="css/checkbox.css" type="text/css">checkbox.css</a></li>
          <li>Javascript: <a href="js/checkbox.js" type="text/javascript">checkbox.js</a></li>
        </ul>
      </section>

      <section>
        <h2>HTMLソースコード</h2>
        <h3 id="sc1_label">シンプルな二つの状態のチェックボックスの例</h3>
        <div id="sc1_start_sep" role="separator" aria-labelledby="sc1_label sc1_start_sep" aria-label="の開始"></div>
        <pre><code id="sc1"></code></pre>
        <div id="sc1_end_sep" role="separator" aria-labelledby="sc1_label sc1_end_sep" aria-label="の終了"></div>
        <script>
          sourceCode.add('sc1', 'ex1', 'ex_label', 'css_js_files');
          sourceCode.make();
        </script>
      </section>
    </main>
  </body>
</html>
