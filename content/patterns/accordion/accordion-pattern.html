<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>アコーディオン パターン</title>

    <!-- Core JS and CSS shared by all patterns -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../shared/css/core.css">
    <script src="../../shared/js/highlight.pack.js"></script>
    <script src="../../shared/js/app.js"></script>
    <script src="../../shared/js/skipto.js"></script>
  </head>
  <body>
    <main>
      <h1>アコーディオン パターン（表示/非表示機能付きのセクション）</h1>
      <!-- 翻訳元リビジョン: https://github.com/w3c/aria-practices/tree/d6cf9d8db772603a456e7d7ef52e409d39124301 -->

      <section id="about">
        <h2>このパターンについて</h2>
        <p>
          アコーディオンは、インタラクティブな見出しを垂直に積み重ねたセットで、各見出しは、タイトル、コンテンツのスニペット、又はコンテンツのセクションを表すサムネイルを含みます。これらの見出しはコントロールとして機能し、関連づけられているコンテンツのセクションを利用者が表示又は非表示にすることを可能にします。アコーディオンは一般的に、1ページで複数のコンテンツのセクションを表示する場合に、スクロールの必要性を減少させるために使用されます。
        </p>
        <p>アコーディオンを理解するための用語には以下があります：</p>
        <dl>
          <dt>アコーディオンヘッダー：</dt>
          <dd>コンテンツのセクションを表すラベル又はサムネイルで、コンテンツのセクションを表示する、及び一部の実装では非表示にするためのコントロールとして、機能します。</dd>
          <dt>アコーディオンパネル：</dt>
          <dd>アコーディオンヘッダーに関連づけられているコンテンツのセクションです。</dd>
        </dl>
        <p>
          一部のアコーディオンには、アコーディオンヘッダーに隣接して常に表示される追加の要素があります。例えば、各アコーディオンヘッダーには、そのセクションに適用されるアクションへのアクセスを提供するためのメニューボタンが付随している場合があります。そして、一部のケースでは、隠されたコンテンツの断片が視覚的に持続する場合もあります。
        </p>
      </section>

      <section id="examples">
        <h2>例</h2>
        <p><a href="examples/accordion.html">アコーディオンの例</a>：3 つのセクションに分かれたフォームのデモンストレーションで、アコーディオンを使用して、一度に 1 セクションを表示します。</p>
      </section>

      <section id="keyboard_interaction">
        <h2>キーボードの操作</h2>
        <ul>
          <li>
            <kbd>Enter</kbd> 又は <kbd>Space</kbd>:
            <ul>
              <li>
                折りたたまれたパネルのアコーディオンヘッダーにフォーカスがある場合、関連づけられているパネルを展開します。実装によって 1 つのパネルのみを展開できるようになっていて、別のパネルが展開されている場合は、そのパネルを折りたたみます。
              </li>
              <li>
               展開されたパネルのアコーディオンヘッダーにフォーカスがある場合、実装によって折りたたみがサポートされている場合は、そのパネルを折りたたみます。一部の実装では、常にパネルを 1 つ展開することが求められ、1 つのパネルのみ展開できるようになっていて、その場合、折りたたむ機能はサポートされません。
              </li>
            </ul>
          </li>
          <li><kbd>Tab</kbd>: 次のフォーカス可能な要素にフォーカスを移動します。アコーディオン内のすべてのフォーカス可能な要素は、ページの <kbd>Tab</kbd> シーケンスに含まれます。</li>
          <li><kbd>Shift + Tab</kbd>: 前のフォーカス可能な要素にフォーカスを移動します。アコーディオン内のすべてのフォーカス可能な要素は、ページの <kbd>Tab</kbd> シーケンスに含まれます。</li>
          <li>
            <kbd>下矢印</kbd> (任意): フォーカスがアコーディオンヘッダーにある場合、次のアコーディオンヘッダーにフォーカスを移動します。フォーカスが最後のアコーディオンヘッダーにある場合、何もしないか、最初のアコーディオンヘッダーにフォーカスを移動します。
          </li>
          <li>
            <kbd>上矢印</kbd> (任意): フォーカスがアコーディオンヘッダーにある場合、前のアコーディオンヘッダーにフォーカスを移動します。フォーカスが最初のアコーディオンヘッダーにある場合、何もしないか、最後のアコーディオンヘッダーにフォーカスを移動します。
          </li>
          <li><kbd>Home</kbd> (任意): フォーカスがアコーディオンヘッダーにある場合、最初のアコーディオンヘッダーにフォーカスを移動します。</li>
          <li><kbd>End</kbd> (任意): フォーカスがアコーディオンヘッダーにある場合、最後のアコーディオンヘッダーにフォーカスを移動します。</li>
        </ul>
      </section>

      <section id="roles_states_properties">
        <h2>WAI-ARIA のロール、ステート、及びプロパティ:</h2>
        <ul>
          <li>各アコーディオンヘッダーのタイトルは、<a href="#button" class="role-reference">button</a> ロールの要素に含まれています。</li>
          <li>
            各アコーディオンヘッダーの <code>button</code> は、ページの情報アーキテクチャにふさわしい <a href="#aria-level" class="property-reference">aria-level</a> の値を持った <a href="#heading" class="role-reference">heading</a> ロールの要素に囲まれています。
            <ul>
              <li>ネイティブのホスト言語が、HTML の見出しタグのように、<code>heading</code> 及び <code>aria-level</code> を暗黙的に持つ要素を持つ場合、ネイティブのホスト言語の要素を使用することができます。</li>
              <li><code>button</code> 要素は <code>heading</code> 要素内の唯一の要素です。つまり、視覚的に持続する要素が他にある場合、それらは <code>heading</code> 要素の中に含まれません。</li>
            </ul>
          </li>
          <li>アコーディオンヘッダーに関連づけられているアコーディオンパネルが表示されている場合、ヘッダーの <code>button</code> 要素では <a href="#aria-expanded" class="state-reference">aria-expanded</a> が <code>true</code> に設定されます。パネルが表示されていない場合、<a href="#aria-expanded" class="state-reference">aria-expanded</a> は <code>false</code> に設定されます。</li>
          <li>アコーディオンヘッダーの <code>button</code> 要素は、アコーディオンパネルのコンテンツを含む要素の ID に設定された <a href="#aria-controls" class="property-reference">aria-controls</a> を持ちます。</li>
          <li>アコーディオンヘッダーに関連づけられているアコーディオンパネルが表示されていて、かつアコーディオンがそのパネルを折りたたませない場合、そのヘッダーの <code>button</code> 要素では <a href="#aria-disabled" class="state-reference">aria-disabled</a> が <code>true</code> に設定されます。</li>
          <li>
            パネルのコンテンツのコンテナとして機能する各要素は、<a href="#region" class="role-reference">region</a> ロール及び、パネルの表示を制御するボタンを参照する値が設定された <a href="#aria-labelledby" class="property-reference">aria-labelledby</a> を、任意で持ちます。
            <ul>
              <li>例えば同時に展開できるパネルをだいたい 6 つより多く含むアコーディオンのような、ランドマークリージョンの増殖を生む状況では、<code>region</code> ロールの使用を避けてください。</li>
              <li><code>region</code> ロールはとりわけ、パネルに見出し要素やネストされたアコーディオンが含まれているような場合に、スクリーンリーダーの利用者が構造を認識するのに役立ちます。</li>
            </ul>
          </li>
        </ul>
      </section>
    </main>
  </body>
</html>
