<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>アコーディオン パターン</title>

    <!-- Core JS and CSS shared by all patterns -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../shared/css/core.css">
    <script src="../../shared/js/highlight.pack.js"></script>
    <script src="../../shared/js/app.js"></script>
    <script src="../../shared/js/skipto.js"></script>
  </head>
  <body>
    <main>
      <h1>アコーディオン パターン（表示/非表示機能付きのセクション）</h1>
      <!-- 翻訳元リビジョン: https://github.com/w3c/aria-practices/tree/d6cf9d8db772603a456e7d7ef52e409d39124301 -->

      <section id="about">
        <h2>このパターンについて</h2>
        <p>
          アコーディオンは、コンテンツのセクションを表すタイトル、コンテンツのスニペット、またはサムネイルを含むインタラクティブな見出しの垂直に積み重ねられたセットです。
          これらの見出しはコントロールとして機能し、ユーザーが関連するコンテンツのセクションを表示または非表示にすることを可能にします。
          アコーディオンは、1ページで複数のコンテンツのセクションを表示する際のスクロールの必要性を減少させるために一般的に使用されます。
        </p>
        <p>アコーディオンを理解するための用語には以下があります：</p>
        <dl>
          <dt>アコーディオンヘッダー：</dt>
          <dd>コンテンツのセクションを表すラベルまたはサムネイルで、コンテンツのセクションを表示し、一部の実装では非表示にするためのコントロールとしても機能します。</dd>
          <dt>アコーディオンパネル：</dt>
          <dd>アコーディオンヘッダーに関連するコンテンツのセクション。</dd>
        </dl>
        <p>
          一部のアコーディオンには、アコーディオンヘッダーの隣に常に表示される追加の要素があります。
          例えば、メニューボタンが各アコーディオンヘッダーに伴い、そのセクションに適用されるアクションへのアクセスを提供する場合があります。そして、一部のケースでは、非表示のコンテンツの一部も視覚的に持続する場合があります。
        </p>
      </section>

      <section id="examples">
        <h2>例</h2>
        <p><a href="examples/accordion.html">アコーディオンの例</a>：アコーディオンを使用して一度に1つのセクションを表示するフォームを3つのセクションに分けて示しています。</p>
      </section>

      <section id="keyboard_interaction">
        <h2>キーボードの操作</h2>
        <ul>
          <li>
            <kbd>Enter</kbd> または <kbd>Space</kbd>:
            <ul>
              <li>
                折りたたまれたパネルのアコーディオンヘッダーにフォーカスがある場合、関連するパネルを拡張します。
                実装が1つのパネルのみを拡張できるようにしていて、別のパネルが拡張されている場合は、そのパネルを折りたたみます。
              </li>
              <li>
                拡張されたパネルのアコーディオンヘッダーにフォーカスがある場合、実装が折りたたむ機能をサポートしている場合は、パネルを折りたたみます。
                一部の実装は、常に1つのパネルを拡張した状態にして、1つのパネルのみを拡張できるようにしているため、折りたたむ機能をサポートしていません。
              </li>
            </ul>
          </li>
          <li><kbd>Tab</kbd>: 次のフォーカス可能な要素にフォーカスを移動します。アコーディオン内のすべてのフォーカス可能な要素はページの <kbd>Tab</kbd> シーケンスに含まれます。</li>
          <li><kbd>Shift + Tab</kbd>: 前のフォーカス可能な要素にフォーカスを移動します。アコーディオン内のすべてのフォーカス可能な要素はページの <kbd>Tab</kbd> シーケンスに含まれます。</li>
          <li>
            <kbd>Down Arrow</kbd> (任意): フォーカスがアコーディオンヘッダーにある場合、次のアコーディオンヘッダーにフォーカスを移動します。
            フォーカスが最後のアコーディオンヘッダーにある場合、何もしないか、最初のアコーディオンヘッダーにフォーカスを移動します。
          </li>
          <li>
            <kbd>Up Arrow</kbd> (任意): フォーカスがアコーディオンヘッダーにある場合、前のアコーディオンヘッダーにフォーカスを移動します。
            フォーカスが最初のアコーディオンヘッダーにある場合、何もしないか、最後のアコーディオンヘッダーにフォーカスを移動します。
          </li>
          <li><kbd>Home</kbd> (任意): フォーカスがアコーディオンヘッダーにある場合、最初のアコーディオンヘッダーにフォーカスを移動します。</li>
          <li><kbd>End</kbd> (任意): フォーカスがアコーディオンヘッダーにある場合、最後のアコーディオンヘッダーにフォーカスを移動します。</li>
        </ul>
      </section>

      <section id="roles_states_properties">
        <h2>WAI-ARIAのロール、ステート、およびプロパティ:</h2>
        <ul>
          <li>各アコーディオンヘッダーのタイトルは、<a href="#button" class="role-reference">button</a>ロールの要素に含まれています。</li>
          <li>
            各アコーディオンヘッダーの<code>button</code>は、ページの情報アーキテクチャに適した<a href="#aria-level" class="property-reference">aria-level</a>の値を持つ<a href="#heading" class="role-reference">headingし</a>ロールの要素で囲まれています。
            <ul>
              <li>ネイティブのホスト言語に<code>heading</code>および<code>aria-level</code>を暗黙的に持つ要素（HTMLの見出しタグなど）がある場合、ネイティブのホスト言語の要素を使用することができます。</li>
              <li><code>button</code>要素は<code>heading</code>要素内の唯一の要素です。つまり、他の視覚的に持続する要素がある場合、それらは<code>heading</code>要素の中に含まれていません。</li>
            </ul>
          </li>
          <li>アコーディオンヘッダーに関連するアコーディオンパネルが表示されている場合、ヘッダーの<code>button</code>要素は<a href="#aria-expanded" class="state-reference">aria-expanded</a>を<code>true</code>に設定します。パネルが表示されていない場合、<a href="#aria-expanded" class="state-reference">aria-expanded</a>は<code>false</code>に設定されます。</li>
          <li>アコーディオンヘッダーの<code>button</code>要素は、アコーディオンパネルのコンテンツを含む要素のIDに<a href="#aria-controls" class="property-reference">aria-controls</a>を設定しています。</li>
          <li>アコーディオンヘッダーに関連するアコーディオンパネルが表示されていて、アコーディオンがパネルを折りたたむことを許可していない場合、ヘッダーの<code>button</code>要素は<a href="#aria-disabled" class="state-reference">aria-disabled</a>を<code>true</code>に設定します。</li>
          <li>
            任意で、パネルのコンテンツのコンテナとして機能する各要素は、<a href="#region" class="role-reference">region</a>ロールおよび<a href="#aria-labelledby" class="property-reference">aria-labelledby</a>を持ち、パネルの表示を制御するボタンを参照する値が設定されています。
            <ul>
              <li><code>region</code>ロールは、たとえば、同時に拡張できるパネルが約6つ以上含まれるアコーディオンなど、ランドマークリージョンの増殖を生む状況での使用を避けてください。</li>
              <li><code>region</code>ロールは、パネルに見出し要素やネストされたアコーディオンが含まれている場合、スクリーンリーダーユーザーの構造の認識に特に役立ちます。</li>
            </ul>
          </li>
        </ul>
      </section>
    </main>
  </body>
</html>
